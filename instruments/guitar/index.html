<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <title>Yapsmi-guitar</title>
    <link rel="stylesheet" href="./css/guitar.css" />
    <link rel="icon" type="image/x-icon" href="./css/images/favicon.ico">
    <!-- <script src=https://code.jquery.com/jquery-3.1.1.min.js></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.3.0/math.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
    <script src="../../js/external/jquery.js"></script>
    <script src="../../js/knobs.js?version=1.01"></script>
    <script src="../../js/external/jquery-ui.js"></script>
    <script src="../../js/plugins.js?version=1.01"></script>
  </head>
  <body>
    <header>
      <div id="tools">
      </div> 

      <div id="model" class = "popup" style="display:none"><div class="close_button" onclick="$(this).parent().hide()">x</div>
        <div id="model_content"></div>
      </div>  

    </header>
    <main>

      <div  id="wrapper">
      
        <div class = "plugin" id="guitar">

          <div id="fiesta"></div>

          <!-- <div id="pickups">
            
            <div id="pickup1" class="pickup"><div class="pickupHandle"></div><legend>Mic 1</legend></div>
            <div id="pickup2" class="pickup"><div class="pickupHandle"></div><legend>Mic 2</legend></div>
            <div id="pickup3" class="pickup"><div class="pickupHandle"></div><legend>Mic 3</legend></div>

          </div> -->

          <div id="guitar_playing">
          
            <div id="fretboardContainer">
              <img id="fretboard" src="css/images/fretboard.svg"  height="100%"/>
              
              <div class="stringName" onclick="toggle_string_callback(event, 6)" style="top:7.14%" > E</div>
              <div class="stringName" onclick="toggle_string_callback(event, 5)" style="top:21.42%"> B</div> 
              <div class="stringName" onclick="toggle_string_callback(event, 4)" style="top:35.71%"> G</div> 
              <div class="stringName" onclick="toggle_string_callback(event, 3)" style="top:50%"> D </div>  
              <div class="stringName" onclick="toggle_string_callback(event, 2)" style="top:64.28%"> A </div> 
              <div class="stringName" onclick="toggle_string_callback(event, 1)" style="top:78.57%"> E </div> 
              
              <div id="finger6" class="leftHandFinger" style="top:7.14%; left:-100px"> </div>
              <div id="finger5" class="leftHandFinger" style="top:21.42%; left:-100px"> </div> 
              <div id="finger4" class="leftHandFinger" style="top:33.71%; left:-100px"> </div> 
              <div id="finger3" class="leftHandFinger" style="top:47.5%; left:-100px"> </div>  
              <div id="finger2" class="leftHandFinger" style="top:62.28%; left:-100px"> </div> 
              <div id="finger1" class="leftHandFinger" style="top:79.57%; left:-100px"> </div> 
              
            </div>

           <div id="strings">
              <div id="string6" class="string strummable" style="height:1px"> </div>
              <div id="string5" class="string strummable" style="height:2px"> </div>
              <div id="string4" class="string strummable" style="height:3px"> </div>
              <div id="string3" class="string strummable" style="height:5px"> <div class="spuned"></div></div>
              <div id="string2" class="string strummable" style="height:6px"> <div class="spuned"></div></div>
              <div id="string1" class="string strummable" style="height:7px"> <div class="spuned"></div></div>
            </div>

            <div id="struming" onclick="strum(event)"></div>

          </div>
    
          <div id="string_controls" class="instrument_controls">
          
            <div class="previous_controls" onclick="change_controls(-1, 'string_controls')"></div>
        
            <div class="next_controls" onclick="change_controls(+1, 'string_controls')"></div>
    
            <div class ="instrument_controls_window">
              <legend>Low E string</legend>

                <label id="all_strings_at_once">All strings
                  <input type="checkbox" onclick="all_strings(this)">
                </label>
      
                <div class="control_knob">
                    <div class="value_container">\(\mu^\vphantom{0}=\)<div class="knob_value" id="density€1_value">100</div></div>
                    <div class="knob" id="density€1"></div>
                </div>
                
                <div class="control_knob">
                  <div class="value_container">\(EI^\vphantom{0}=\)<div class="knob_value" id="stiffness€1_value">100</div></div>
                  <div class="knob" id="stiffness€1"></div>
                </div>
                  
                <div class="control_knob">
                    <div class="value_container">\(T^\vphantom{0}=\)<div class="knob_value" id="tension€1_value">100</div></div>
                    <div class="knob" id="tension€1"></div>
                </div>  
                
                <div class="control_knob">
                    <div class="value_container">\(\eta^\vphantom{0}=\)<div class="knob_value" id="losses_eta€1_value">100</div></div>
                    <div class="knob" id="losses_eta€1"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(R^\vphantom{0}=\)<div class="knob_value" id="losses_R€1_value">100</div></div>
                  <div class="knob" id="losses_R€1"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(EA^\vphantom{0}=\)<div class="knob_value" id="nonlinearity€1_value">100</div></div>
                  <div class="knob" id="nonlinearity€1"></div>
                </div>
                
            </div>
            <div class ="instrument_controls_window" style="display:none">
              <legend>A string</legend>
      
                <div class="control_knob">
                    <div class="value_container">\(\mu^\vphantom{0}=\)<div class="knob_value" id="density€2_value">100</div></div>
                    <div class="knob" id="density€2"></div>
                </div>
                
                <div class="control_knob">
                  <div class="value_container">\(EI^\vphantom{0}=\)<div class="knob_value" id="stiffness€2_value">100</div></div>
                  <div class="knob" id="stiffness€2"></div>
                </div>
                  
                <div class="control_knob">
                    <div class="value_container">\(T^\vphantom{0}=\)<div class="knob_value" id="tension€2_value">100</div></div>
                    <div class="knob" id="tension€2"></div>
                </div>  
                
                <div class="control_knob">
                  <div class="value_container">\(\eta^\vphantom{0}=\)<div class="knob_value" id="losses_eta€2_value">100</div></div>
                  <div class="knob" id="losses_eta€2"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(R^\vphantom{0}=\)<div class="knob_value" id="losses_R€2_value">100</div></div>
                  <div class="knob" id="losses_R€2"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(EA^\vphantom{0}=\)<div class="knob_value" id="nonlinearity€2_value">100</div></div>
                  <div class="knob" id="nonlinearity€2"></div>
                </div>
            </div>
            <div class ="instrument_controls_window" style="display:none">
              <legend>D string</legend>
      
                <div class="control_knob">
                    <div class="value_container">\(\mu^\vphantom{0}=\)<div class="knob_value" id="density€3_value">100</div></div>
                    <div class="knob" id="density€3"></div>
                </div>
                
                <div class="control_knob">
                  <div class="value_container">\(EI^\vphantom{0}=\)<div class="knob_value" id="stiffness€3_value">100</div></div>
                  <div class="knob" id="stiffness€3"></div>
                </div>
                  
                <div class="control_knob">
                    <div class="value_container">\(T^\vphantom{0}=\)<div class="knob_value" id="tension€3_value">100</div></div>
                    <div class="knob" id="tension€3"></div>
                </div>  
                
                <div class="control_knob">
                  <div class="value_container">\(\eta^\vphantom{0}=\)<div class="knob_value" id="losses_eta€3_value">100</div></div>
                  <div class="knob" id="losses_eta€3"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(R^\vphantom{0}=\)<div class="knob_value" id="losses_R€3_value">100</div></div>
                  <div class="knob" id="losses_R€3"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(EA^\vphantom{0}=\)<div class="knob_value" id="nonlinearity€3_value">100</div></div>
                  <div class="knob" id="nonlinearity€3"></div>
                </div>
            </div>
            <div class ="instrument_controls_window" style="display:none">
              <legend>G string</legend>
      
                <div class="control_knob">
                    <div class="value_container">\(\mu^\vphantom{0}=\)<div class="knob_value" id="density€4_value">100</div></div>
                    <div class="knob" id="density€4"></div>
                </div>
                
                <div class="control_knob">
                  <div class="value_container">\(EI^\vphantom{0}=\)<div class="knob_value" id="stiffness€4_value">100</div></div>
                  <div class="knob" id="stiffness€4"></div>
                </div>
                  
                <div class="control_knob">
                    <div class="value_container">\(T^\vphantom{0}=\)<div class="knob_value" id="tension€4_value">100</div></div>
                    <div class="knob" id="tension€4"></div>
                </div>  
                
                <div class="control_knob">
                  <div class="value_container">\(\eta^\vphantom{0}=\)<div class="knob_value" id="losses_eta€4_value">100</div></div>
                  <div class="knob" id="losses_eta€4"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(R^\vphantom{0}=\)<div class="knob_value" id="losses_R€4_value">100</div></div>
                  <div class="knob" id="losses_R€4"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(EA^\vphantom{0}=\)<div class="knob_value" id="nonlinearity€4_value">100</div></div>
                  <div class="knob" id="nonlinearity€4"></div>
                </div>
            </div>
            <div class ="instrument_controls_window" style="display:none">
              <legend>B string</legend>
      
                <div class="control_knob">
                    <div class="value_container">\(\mu^\vphantom{0}=\)<div class="knob_value" id="density€5_value">100</div></div>
                    <div class="knob" id="density€5"></div>
                </div>
                
                <div class="control_knob">
                  <div class="value_container">\(EI^\vphantom{0}=\)<div class="knob_value" id="stiffness€5_value">100</div></div>
                  <div class="knob" id="stiffness€5"></div>
                </div>
                  
                <div class="control_knob">
                    <div class="value_container">\(T^\vphantom{0}=\)<div class="knob_value" id="tension€5_value">100</div></div>
                    <div class="knob" id="tension€5"></div>
                </div>  
                
                <div class="control_knob">
                  <div class="value_container">\(\eta^\vphantom{0}=\)<div class="knob_value" id="losses_eta€5_value">100</div></div>
                  <div class="knob" id="losses_eta€5"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(R^\vphantom{0}=\)<div class="knob_value" id="losses_R€5_value">100</div></div>
                  <div class="knob" id="losses_R€5"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(EA^\vphantom{0}=\)<div class="knob_value" id="nonlinearity€5_value">100</div></div>
                  <div class="knob" id="nonlinearity€5"></div>
                </div>
            </div>
            <div class ="instrument_controls_window" style="display:none">
              <legend>High E string</legend>
      
                <div class="control_knob">
                    <div class="value_container">\(\mu^\vphantom{0}=\)<div class="knob_value" id="density€6_value">100</div></div>
                    <div class="knob" id="density€6"></div>
                </div>
                
                <div class="control_knob">
                  <div class="value_container">\(EI^\vphantom{0}=\)<div class="knob_value" id="stiffness€6_value">100</div></div>
                  <div class="knob" id="stiffness€6"></div>
                </div>
                  
                <div class="control_knob">
                    <div class="value_container">\(T^\vphantom{0}=\)<div class="knob_value" id="tension€6_value">100</div></div>
                    <div class="knob" id="tension€6"></div>
                </div>  
                
                <div class="control_knob">
                  <div class="value_container">\(\eta^\vphantom{0}=\)<div class="knob_value" id="losses_eta€6_value">100</div></div>
                  <div class="knob" id="losses_eta€6"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(R^\vphantom{0}=\)<div class="knob_value" id="losses_R€6_value">100</div></div>
                  <div class="knob" id="losses_R€6"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(EA^\vphantom{0}=\)<div class="knob_value" id="nonlinearity€6_value">100</div></div>
                  <div class="knob" id="nonlinearity€6"></div>
                </div>
            </div>

          </div>

          
          <div id="chords" class="instrument_controls">

            <label for="name">Chord</label>

            <input type="text" id="chord_input" name="chord_input"/> <!-- required minlength="4" maxlength="8" size="10" />-->
            
            <div id="chords_list_wrapper">
              <table id="chords_list"><tbody></tbody></table>
            </div>
          </div>

          <div id="righthand_controls" class="instrument_controls">
          
            <div class="previous_controls" onclick="change_controls(-1, 'righthand_controls')"></div>
        
            <div class="next_controls" onclick="change_controls(+1, 'righthand_controls')"></div>
            
            <div class ="instrument_controls_window" >
              <legend>Plectrum</legend>
              <div class="control_knob">
                <div class="value_container">\(reg^\vphantom{0}\)=<div class="knob_value" id="regularity_value">100</div></div>
                <div class="knob" id="regularity"></div>
              </div>

              <div class="control_knob">
                <div class="value_container">\(w^\vphantom{0}\)=<div class="knob_value" id="width_value">100</div></div>
                <div class="knob" id="width"></div>
              </div>
              
              <div class="control_knob">
                <div class="value_container">\(x^\vphantom{0}\)=<div class="knob_value" id="position_value">100</div></div>
                <div class="knob" id="position"></div>
              </div>

                
                
                
                             
            </div>
            <div class ="instrument_controls_window" style="display:none">
                <legend>Attack</legend>
      

                  <!-- <div id="plectrum_shape_signal"><input type="radio" name="plectrum_shape_signal" value="square" checked>
                      <input type="radio" name="plectrum_shape_signal" value="triangle">
                      <input type="radio" name="plectrum_shape_signal" value="sine">
                  </div> -->

                <div class="control_knob">
                  <div class="value_container">\(\delta t^\vphantom{0}\)=<div class="knob_value" id="duration_value">100</div></div>
                  <div class="knob" id="duration"></div>
                </div>

                <div class="control_knob">
                  <div class="value_container">\(\delta\delta t^\vphantom{0}\)=<div class="knob_value" id="increase_duration_value">100</div></div>
                  <div class="knob" id="increase_duration"></div>
                </div>               
                
                <div class="control_knob">
                  <div class="value_container">\(F_0^\vphantom{0}\)=<div class="knob_value" id="strength_value">100</div></div>
                  <div class="knob" id="strength"></div>
                </div>

                <!-- <div class="control_knob">
                  <div class="value_container">\(\epsilon^\vphantom{0}\)=<div class="knob_value" id="attack_losses_value">100</div></div>
                  <div class="knob" id="attack_losses"></div>
                </div> -->
                             
            </div>
          </div>

          <!-- <div class="control_knob" id="general_gain">
            <div class="value_container">\(Gain\)=<div class="knob_value" id="gain_value">100</div></div>
            <div class="knob" id="gain"></div>
          </div> -->

          <!-- <div id="mic_controls" class="instrument_controls">
            
            <div class ="instrument_controls_window">
              <legend>Microphones</legend>
              
              <div class = "control_knob">
              
                    <input type="radio" id="html" name="mic_type" value="HTML">
                    <label for="html">Single</label><br>
                    <input type="radio" id="css" name="mic_type" value="CSS">
                    <label for="css">Double</label><br>
                    <input type="radio" id="javascript" name="mic_type" value="JavaScript">
                    <label for="javascript">Penché</label>
      
                </div>
                <br>
                <div class="control_knob">
                    <div class="knob" id="hauteur"></div>
                    <div class="caption">Hauteur
                      <input type="text"  id="hauteur-val" class="value"/>
                    </div>
                </div>  
                
                <div class="control_knob">
                    <div class="knob" id="gain"></div>
                    <div class="caption"> Gain
                      <input type="text"  id="gain-val" class="value"/>
                    </div>
                </div>
      
            </div> -->       
        </div>   

    </div>

  </main>


    <footer></footer>
  </body>

  <!-- <script src="../../js/knobs.js"></script>

  <script src="../../js/plugins.js"></script> -->

  <script type="module" src="js/init.js"></script>
  <script src="../../js/tools.js"></script>
  <script src="./js/guitar-ui.js"></script>

  <script> 
    $(function(){
      $("#model_content").load("model.html"); 
    });
  </script>

  <script> 
    
    $(function(){
      $("#tools").load("../../templates/tools.html", init_menu); 
    });
    
    document.addEventListener('DOMContentLoaded', async function() {
      load_inst_knobs("guitar")
    }, false);

  </script> 
  <!-- <script>window.addEventListener('load', function () {
     init_plugins()
   })</script> -->
</html>
